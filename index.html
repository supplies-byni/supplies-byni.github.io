<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Supplies Before It‚Äôs Too Late</title>

<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">

<style>
html { scroll-behavior: smooth; }

body {
  margin: 0;
  font-family: "Comic Neue", cursive;
  background: #f4f6f8;
  color: #333;
}

nav {
  background: #1565c0;
  padding: 12px;
  text-align: center;
  position: sticky;
  top: 0;
  z-index: 1000;
}

nav a {
  color: white;
  margin: 0 15px;
  text-decoration: none;
  font-weight: bold;
}

header {
  background: linear-gradient(135deg, #1e88e5, #42a5f5);
  color: white;
  padding: 40px;
  text-align: center;
}

section { padding: 60px 10%; }

.products {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 20px;
}

.card {
  background: white;
  padding: 20px;
  border-radius: 18px;
  box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

button {
  background: #1e88e5;
  color: white;
  border: none;
  padding: 10px 18px;
  border-radius: 20px;
  cursor: pointer;
  font-weight: bold;
}

.stock {
  font-size: 0.9rem;
  margin-top: 8px;
}

.admin {
  background: #fff;
  padding: 25px;
  border-radius: 18px;
  box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

input {
  width: 100%;
  padding: 10px;
  margin: 8px 0;
  border-radius: 10px;
  border: 1px solid #ccc;
}
</style>
</head>

<body>

<nav>
  <a href="#products">Products</a>
  <a href="#employee">Employee</a>
  <a href="#checkout">Checkout</a>
</nav>

<header>
  <h1>Supplies Before It‚Äôs Too Late</h1>
</header>

<section id="products">
<h2>Products</h2>

<div class="products" id="productList"></div>
</section>

<section id="employee">
<h2>Employee Access üîê</h2>
<div class="admin">
  <input id="employeeCode" placeholder="Enter employee code">
  <button onclick="unlockAdmin()">Unlock</button>
  <div id="adminPanel" style="display:none;margin-top:20px;"></div>
</div>
</section>

<section id="checkout">
<h2>Checkout</h2>
<div class="admin">
  <div id="cart">Your cart is empty</div>
  <div id="total">$0.00</div>
</div>
</section>

<script>
const EMPLOYEE_CODE = "Hex.Creat0r!";

const products = {
  pencil: { name: "Single Pencil", price: 0.25, stock: 20 },
  pack: { name: "Pencil Pack (5)", price: 1.05, stock: 10 },
  eraser: { name: "Single Eraser", price: 0.35, stock: 15 },
  pen: { name: "Single Pen", price: 0.50, stock: 12 },
  deluxe: { name: "Deluxe Pack", price: 2.80, stock: 5 }
};

let cart = [];

// Load stock from storage
for (let key in products) {
  const saved = localStorage.getItem("stock_" + key);
  if (saved !== null) products[key].stock = parseInt(saved);
}

function saveStock() {
  for (let key in products) {
    localStorage.setItem("stock_" + key, products[key].stock);
  }
}

function renderProducts() {
  const list = document.getElementById("productList");
  list.innerHTML = "";

  for (let key in products) {
    const p = products[key];
    list.innerHTML += `
      <div class="card">
        <h3>${p.name}</h3>
        <p>$${p.price.toFixed(2)}</p>
        <div class="stock">Stock: ${p.stock}</div>
        <button ${p.stock <= 0 ? "disabled" : ""} onclick="addToCart('${key}')">
          ${p.stock <= 0 ? "Out of Stock" : "Add"}
        </button>
      </div>
    `;
  }
}

function addToCart(key) {
  if (products[key].stock <= 0) return;
  products[key].stock--;
  cart.push(products[key]);
  saveStock();
  renderProducts();
  renderCart();
}

function renderCart() {
  const cartDiv = document.getElementById("cart");
  if (cart.length === 0) {
    cartDiv.innerText = "Your cart is empty";
    document.getElementById("total").innerText = "$0.00";
    return;
  }

  let total = 0;
  cartDiv.innerHTML = "<strong>Cart:</strong><br>";
  cart.forEach(i => {
    total += i.price;
    cartDiv.innerHTML += `${i.name} - $${i.price.toFixed(2)}<br>`;
  });

  document.getElementById("total").innerText = "$" + total.toFixed(2);
}

function unlockAdmin() {
  const code = document.getElementById("employeeCode").value;
  if (code !== EMPLOYEE_CODE) {
    alert("Wrong code");
    return;
  }

  const panel = document.getElementById("adminPanel");
  panel.style.display = "block";
  panel.innerHTML = "<h3>Edit Stock</h3>";

  for (let key in products) {
    panel.innerHTML += `
      <label>${products[key].name}</label>
      <input type="number" value="${products[key].stock}"
        onchange="updateStock('${key}', this.value)">
    `;
  }
}

function updateStock(key, value) {
  products[key].stock = parseInt(value);
  saveStock();
  renderProducts();
}

renderProducts();
</script>

</body>
</html>
